# DIP

## 인프라스트럭처에 의존하면 '테스트 어려움'과 '기능 확장의 어려움' 두 가지 문제가 대두된다.

1. 저수준 모듈을 고수준 모듈에 의존하도록 바꾼다.

  - CalculateDiscountService는 고수준 모듈이다. 의미 있는 단일 기능을 제공하는 모듈로 '가격 할인 계산'이라는 기능을 구현한다. *해달 클래스는 후술 예정*
    1. 가격할인 계산 기능을 구현하려면 하위기능이 필요하다. 
      - 고객 정보를 구해야 할것
      - 할인 금액 룰(Drools)을 실행해야 할것
> 하지만 문제는 고수준 모듈이 저수준 모듈을 사용하면 계층 구조 아키텍처에서 구현 변경과 테스트가 어렵다는 문제가 발생한다. 

2. 추상화한 인터페이스를 사용하여 '두 가지'문제를 해결


