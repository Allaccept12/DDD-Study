# 4개의 영역

## 표현,응용,도메인,인프라스트럭쳐 

### 1. 표현 영역 - HTTP요청을 응용 영역이 필요로 하는 형식으로 변환해서 응용 영역에 전달하고 응용 영역의 응답을 HTTP 응답으로 변환하여 전송한다. 
> 표현 영역은 웹 브라우저가 HTTP 요청 파라미터로 전송한 데이터를 응용 서비스가 요구하는 형식의 객체 타입으로 변환해서 전달하고, 응용서비스가 리턴한 결과를 JSON 형식으로 변환해서 HTTP 응답으로 웹브라우저에 전송한다. 

1-1. 표현 영역을 통해 사용자의 요청을 전달받는 응용 영역은 시스템이 사용자에게 제공해야 할 기능을 구현하는데 '주문등록', '주문 취소', '상품 상세 조회'와 같은 기능 구현을 예로 들 수 있다. 

### 2. 응용 영역 - 응용 영역은 기능을 구현하기 위해 도메인 영역의 도메인 모델을 사용한다. 주문 취소 기능을 제공하는 응용 서비스를 예로 살펴보면 다음 코드와 같이 도메인 모델을 사용해서 기능을 구현한다.

'''java 
public class CancelOrderService{
  @Transactional
  public void cancelOrder(String orderId){
    Order order = findOrderById(orderId);
    if(order == null) throw new OrderNotFoundException(orderId);
    order.cancel();
  }
}
'''
**응용 서비스는 로직을 직접 수행하기보다는 도메인 모델에 로직 수행을 위임한다.**
위 코드도 주문 취소 로직을 직접 구현하지않고 Order 객체에 취소처리를 위임하고 있다.

### 3. 도메인 영역 - 도메인 모델을 구현한다. 1장에서 봤던 Order, OrderLine, ShippingInfo와 같은 도메인 모델이 이 영역에 위치한다. 도메인 모델은 도메인의 핵심 로직을 구현한다. 
**예를 들어 주문 도메인은 '배송지 변경', '결제 완료', '주문 총액 계산'과 같은 핵심 로직을 도메인 모델에서 구현한다.**

### 4. 인프라스트럭쳐 영역 - 구현 기술에 대한 것을 다룬다. 이 영역은 RDBMS 연동을 처리하고, 메시징 큐에 메시지를 전송하거나 수신하는 기능을 구현하고, 몽고DB나 REDIS와 의 데이터 연동을 처리한다.
- 논리적인 개념을 표현하기보다는 실제 구현을 다룬다. 

***도메인 영역, 응용 영역, 표현 영역은 구현 기술을 사용한 코드를 직접 만들지 않는다. 대신 인프라스트럭쳐 영역에서 제공하는 기능을 사용해서 필요한 기능을 개발한다. 예를 들어 응용 영역에서 DB에 보관된 데이터가 필요하면 인프라스트럭처 영역의 DB 모듈을 사용하여 데이터를 읽어온다. 비슷하게 외부에 메일을 발송해야 한다면 인프라스트럭처가 제공하는 SMTP 연동 모듈을 이용해서 메일을 발송한다. 
 
